# PRD: 공학용 전자계산기 웹앱

## 1. 제품 개요

### 1.1 제품 비전
현대적이고 직관적인 UI/UX를 갖춘 공학용 전자계산기 웹 애플리케이션을 개발하여, 학생, 엔지니어, 연구원 등이 웹 브라우저에서 손쉽게 복잡한 수학 계산을 수행할 수 있도록 한다.

### 1.2 목표
- 모바일 우선(Mobile-First) 반응형 디자인 구현
- 다크 모드 및 라이트 모드 지원
- 기본 산술 연산 및 공학용 함수 제공
- 직관적이고 아름다운 사용자 인터페이스
- 빠른 응답 속도와 정확한 계산 결과

### 1.3 타겟 사용자
- 대학생 및 고등학생 (수학, 물리, 공학 전공)
- 엔지니어 및 연구원
- 일반 사용자 (복잡한 계산이 필요한 경우)

## 2. 핵심 기능 요구사항

### 2.1 계산 기능

#### 2.1.1 기본 산술 연산
- **덧셈 (+)**: 두 수의 합 계산
- **뺄셈 (−)**: 두 수의 차 계산
- **곱셈 (×)**: 두 수의 곱 계산
- **나눗셈 (÷)**: 두 수의 몫 계산
- **퍼센트 (%)**: 백분율 계산

#### 2.1.2 공학용 함수
- **제곱근 (√)**: 제곱근 계산
- **거듭제곱 (^)**: 지수 계산
- **팩토리얼 (!)**: 계승 계산
- **삼각함수**:
  - sin: 사인 함수
  - cos: 코사인 함수
  - tan: 탄젠트 함수
- **로그 함수**:
  - log: 상용로그 (밑 10)
  - ln: 자연로그 (밑 e)
- **상수**:
  - π (파이): 원주율 (3.14159...)
- **괄호**: ( ) - 연산 우선순위 지정

#### 2.1.3 각도 모드
- **DEG (Degree)**: 도 단위 각도 모드 (기본값)
- **RAD (Radian)**: 라디안 단위 각도 모드
- 모드 전환 버튼을 통한 실시간 전환

### 2.2 사용자 인터페이스

#### 2.2.1 레이아웃 구조
```
┌─────────────────────────────────┐
│  Header (상단 바)                │
│  - 히스토리 버튼                 │
│  - DEG/RAD 토글                  │
│  - 설정 버튼                     │
├─────────────────────────────────┤
│  Display Area (디스플레이 영역)  │
│  - 입력 수식 표시                │
│  - 계산 결과 표시                │
├─────────────────────────────────┤
│  Keypad (키패드)                 │
│  - 공학용 함수 행 (스크롤 가능)  │
│  - 구분선                        │
│  - 메인 키패드 그리드 (4×5)      │
└─────────────────────────────────┘
```

#### 2.2.2 상단 바 (Header)
- **왼쪽**: 히스토리 버튼 (history 아이콘)
  - 이전 계산 기록 조회 기능
- **중앙**: DEG/RAD 토글 스위치
  - 현재 선택된 모드는 흰색 배경 + 볼드체
  - 비활성 모드는 회색 텍스트
- **오른쪽**: 설정 버튼 (settings 아이콘)
  - 앱 설정 및 환경 설정

#### 2.2.3 디스플레이 영역
- **입력 수식 표시**:
  - 위치: 상단
  - 스타일: 작은 폰트, 회색 텍스트, 우측 정렬
  - 기능: 사용자가 입력한 수식을 실시간으로 표시
  - 예시: `sin(45) × 120 + 500 ÷ 2`
  
- **계산 결과 표시**:
  - 위치: 하단
  - 스타일: 큰 폰트 (6xl), 볼드체, 우측 정렬
  - 기능: 계산된 최종 결과 표시
  - 숫자 포맷: 천 단위 구분 쉼표 적용
  - 예시: `3,502.15`

#### 2.2.4 키패드 영역

**공학용 함수 행 (Scrollable)**
- 가로 스크롤 가능한 버튼 행
- 버튼 목록 (좌→우):
  - √ (제곱근)
  - π (파이)
  - ^ (거듭제곱)
  - ! (팩토리얼)
  - sin (사인)
  - cos (코사인)
  - tan (탄젠트)
  - log (상용로그)
  - ln (자연로그)
  - ( (여는 괄호)
  - ) (닫는 괄호)
- 스타일: 둥근 캡슐 형태, 회색 배경, 호버 효과

**메인 키패드 (4×5 그리드)**

| 행 | 열1 | 열2 | 열3 | 열4 |
|---|-----|-----|-----|-----|
| 1 | AC (빨간색) | ⌫ (백스페이스) | % | ÷ |
| 2 | 7 | 8 | 9 | × |
| 3 | 4 | 5 | 6 | − |
| 4 | 1 | 2 | 3 | + |
| 5 | 0 | . | = (2칸) | |

**버튼 스타일 가이드**:
- **AC 버튼**: 빨간색 텍스트, 회색 배경
- **백스페이스/% 버튼**: 파란색 텍스트, 회색 배경
- **연산자 버튼 (÷, ×, −, +)**: 파란색 텍스트, 파란색 반투명 배경
- **숫자 버튼 (0-9, .)**: 흰색/어두운 배경, 그림자 효과
- **= 버튼**: 파란색 배경, 흰색 텍스트, 2칸 너비, 그림자 효과

### 2.3 디자인 시스템

#### 2.3.1 컬러 팔레트

**라이트 모드**:
- 배경: `#f6f6f8` (연한 회색)
- 표면: `#ffffff` (흰색)
- 텍스트: `#0f172a` (진한 회색/검정)
- 보조 텍스트: `#64748b` (회색)
- 프라이머리: `#2b6cee` (파란색)

**다크 모드**:
- 배경: `#101622` (진한 남색)
- 표면: `#151c2b` (어두운 남색)
- 표면 (버튼): `#1e293b` (중간 어두운 남색)
- 표면 (숫자): `#1a2332` (어두운 남색)
- 텍스트: `#ffffff` (흰색)
- 보조 텍스트: `#94a3b8` (연한 회색)
- 프라이머리: `#2b6cee` (파란색)
- 강조 (빨강): `#ef4444` (빨간색)

#### 2.3.2 타이포그래피
- **디스플레이 폰트**: Space Grotesk (300, 400, 500, 600, 700)
  - 사용처: 숫자, 버튼 텍스트
- **본문 폰트**: Noto Sans (400, 500, 700)
  - 사용처: 일반 텍스트, UI 요소
- **아이콘**: Material Symbols Outlined

**폰트 크기**:
- 계산 결과: 6xl (3.75rem / 60px)
- 입력 수식: xl (1.25rem / 20px)
- 버튼 텍스트 (숫자): 2xl (1.5rem / 24px)
- 버튼 텍스트 (함수): sm (0.875rem / 14px)

#### 2.3.3 간격 및 레이아웃
- **모서리 둥글기**:
  - 버튼 (메인): 2xl (1rem / 16px)
  - 버튼 (함수): full (완전 둥근 캡슐)
  - 키패드 컨테이너: 2rem (상단만)
- **간격**:
  - 버튼 간격: 0.75rem (12px)
  - 섹션 패딩: 1rem - 1.5rem
- **그림자**:
  - 키패드 컨테이너: 상단 그림자 (elevation)
  - = 버튼: 파란색 그림자
  - 숫자 버튼: 미세한 그림자

#### 2.3.4 인터랙션
- **호버 효과**: 모든 버튼에 배경색 변경
- **트랜지션**: 부드러운 색상 전환 (transition-colors)
- **터치 피드백**: 모바일 환경에서 시각적 피드백

### 2.4 반응형 디자인
- **모바일 우선**: 기본 레이아웃은 모바일에 최적화
- **최소 높이**: 884px 또는 100dvh (동적 뷰포트 높이)
- **가로 스크롤**: 공학용 함수 행만 가로 스크롤 가능
- **세로 스크롤**: 전체 페이지는 스크롤 없이 한 화면에 표시

## 3. 기술 요구사항

### 3.1 프론트엔드 기술 스택
- **HTML5**: 시맨틱 마크업
- **CSS3**: 스타일링 (Tailwind CSS 사용)
- **JavaScript (ES6+)**: 계산 로직 및 인터랙션
- **Tailwind CSS**: 유틸리티 우선 CSS 프레임워크
- **Google Fonts**: Space Grotesk, Noto Sans
- **Material Symbols**: 아이콘

### 3.2 브라우저 호환성
- **최신 브라우저 지원**:
  - Chrome (최신 2개 버전)
  - Firefox (최신 2개 버전)
  - Safari (최신 2개 버전)
  - Edge (최신 2개 버전)
- **모바일 브라우저**:
  - iOS Safari
  - Chrome Mobile
  - Samsung Internet

### 3.3 성능 요구사항
- **초기 로딩 시간**: 2초 이내
- **계산 응답 시간**: 100ms 이내
- **애니메이션**: 60fps 유지

### 3.4 접근성
- **키보드 네비게이션**: 모든 기능 키보드로 접근 가능
- **스크린 리더**: ARIA 레이블 적용
- **색상 대비**: WCAG 2.1 AA 기준 준수

## 4. 기능 명세

### 4.1 계산 로직

#### 4.1.1 입력 처리
- 숫자 버튼 클릭 시 디스플레이에 추가
- 연산자 버튼 클릭 시 수식에 추가
- 함수 버튼 클릭 시 함수 형태로 추가 (예: `sin(`)
- 괄호 자동 완성 옵션

#### 4.1.2 계산 실행
- `=` 버튼 클릭 시 수식 평가
- 수식 파싱 및 우선순위 처리
- 삼각함수는 현재 각도 모드(DEG/RAD)에 따라 계산
- 오류 처리 (0으로 나누기, 문법 오류 등)

#### 4.1.3 특수 기능
- **AC (All Clear)**: 모든 입력 및 결과 초기화
- **백스페이스**: 마지막 입력 문자 삭제
- **DEG/RAD 전환**: 각도 모드 전환 (계산 결과에 즉시 반영)

### 4.2 히스토리 기능
- 이전 계산 기록 저장 (최대 50개)
- 히스토리 버튼 클릭 시 사이드 패널 또는 모달로 표시
- 각 기록 항목 클릭 시 해당 수식 불러오기
- 히스토리 삭제 기능

### 4.3 설정 기능
- **테마 설정**: 라이트/다크/시스템 자동
- **각도 모드 기본값**: DEG 또는 RAD
- **소수점 자릿수**: 표시할 소수점 자릿수 설정
- **히스토리 관리**: 히스토리 전체 삭제

## 5. 사용자 시나리오

### 5.1 기본 계산 시나리오
```
사용자: 학생 (수학 숙제 중)
목표: 120 × 5 + 300 계산

1. 앱 접속
2. "1" → "2" → "0" 입력
3. "×" 버튼 클릭
4. "5" 입력
5. "+" 버튼 클릭
6. "3" → "0" → "0" 입력
7. "=" 버튼 클릭
8. 결과 확인: 900
```

### 5.2 공학용 계산 시나리오
```
사용자: 공학도 (삼각함수 계산)
목표: sin(45°) × 100 계산

1. 앱 접속
2. DEG 모드 확인
3. 공학용 함수 행에서 "sin" 버튼 클릭
4. "4" → "5" 입력
5. ")" 버튼 클릭 (또는 자동 완성)
6. "×" 버튼 클릭
7. "1" → "0" → "0" 입력
8. "=" 버튼 클릭
9. 결과 확인: 70.71 (근사값)
```

### 5.3 다크 모드 전환 시나리오
```
사용자: 야간 사용자
목표: 눈의 피로를 줄이기 위해 다크 모드 활성화

1. 앱 접속 (라이트 모드)
2. 설정 버튼 클릭
3. "테마" 옵션 선택
4. "다크 모드" 선택
5. 화면이 다크 테마로 전환
6. 계산 계속 진행
```

## 6. 비기능 요구사항

### 6.1 보안
- XSS 공격 방지
- 안전한 수식 평가 (eval 사용 금지)

### 6.2 데이터 저장
- 로컬 스토리지 사용
- 히스토리 및 설정 저장
- 개인정보 수집 없음

### 6.3 오류 처리
- 잘못된 수식 입력 시 에러 메시지 표시
- 계산 불가능한 경우 (예: 0으로 나누기) 안내
- 오버플로우/언더플로우 처리

### 6.4 국제화 (향후 확장)
- 다국어 지원 준비
- 숫자 포맷 로케일 대응

## 7. 개발 단계

### 7.1 Phase 1: MVP (최소 기능 제품)
- [x] 기본 UI 레이아웃 구현
- [ ] 기본 산술 연산 (+ - × ÷)
- [ ] 숫자 입력 및 디스플레이
- [ ] AC, 백스페이스 기능
- [ ] 다크 모드 지원

### 7.2 Phase 2: 공학용 기능
- [ ] 삼각함수 (sin, cos, tan)
- [ ] 로그 함수 (log, ln)
- [ ] 제곱근, 거듭제곱, 팩토리얼
- [ ] 괄호 처리
- [ ] DEG/RAD 모드 전환

### 7.3 Phase 3: 고급 기능
- [ ] 히스토리 기능
- [ ] 설정 기능
- [ ] 키보드 입력 지원
- [ ] 반응형 디자인 최적화

### 7.4 Phase 4: 개선 및 최적화
- [ ] 성능 최적화
- [ ] 접근성 개선
- [ ] 브라우저 호환성 테스트
- [ ] 사용자 피드백 반영

## 8. 성공 지표

### 8.1 사용성
- 첫 계산까지 소요 시간: 10초 이내
- 오류 발생률: 1% 미만
- 사용자 만족도: 4.5/5 이상

### 8.2 성능
- 페이지 로드 시간: 2초 이내
- 계산 응답 시간: 100ms 이내
- Lighthouse 점수: 90점 이상

### 8.3 품질
- 버그 발생률: 주요 기능 0건
- 코드 커버리지: 80% 이상
- 접근성 점수: WCAG 2.1 AA 준수

## 9. 제약사항 및 가정

### 9.1 제약사항
- 웹 브라우저 환경에서만 동작
- 오프라인 모드 미지원 (Phase 1)
- 복잡한 수식 (행렬, 미적분 등) 미지원

### 9.2 가정
- 사용자는 기본적인 수학 지식 보유
- 모던 브라우저 사용 (ES6+ 지원)
- 인터넷 연결 가능 (폰트 로딩)

## 10. 참고 자료

### 10.1 디자인 레퍼런스
- 제공된 디자인 파일: `design/code.html`, `design/screen.png`
- Material Design 가이드라인
- iOS/Android 계산기 앱

### 10.2 기술 문서
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [MDN Web Docs - Math](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math)
- [Material Symbols](https://fonts.google.com/icons)

---

**문서 버전**: 1.0  
**작성일**: 2025-12-23  
**작성자**: Product Team  
**승인자**: -  
**다음 리뷰**: Phase 1 완료 후
